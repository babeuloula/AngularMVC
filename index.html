<!DOCTYPE HTML>

<html lang="fr" ng-app="angularMVC">

    <head>

        <title>Angular MVC</title>

        <link href='http://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
        <link title="defaut" type="text/css" rel="stylesheet" href="css/style.css" media="screen">

        <META CHARSET="UTF-8">
        <META HTTP-EQUIV="CONTENT-LANGUAGE" CONTENT="FR">

    </head>

    <body>

        <div ng-show="loading">Chargement ...</div>

        <div ng-hide="loading">
            <div ui-view></div>
        </div>

        <!-- Libs -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>


        <!-- Controllers -->
        <script type="text/javascript" src="controllers/ArticleController.js"></script>
        <script type="text/javascript" src="controllers/CommentController.js"></script>


        <!-- Factories -->
        <script type="text/javascript" src="factories/Factory.js"></script>
        <script type="text/javascript" src="factories/ArticleFactory.js"></script>


        <!-- Rooter -->
        <script type="text/javascript" src="rooter/rooter.js"></script>


        <!-- Application -->
        <script type="text/javascript">
            /**
             * Démarrage du module Angular
             **/
            var app = angular.module('angularMVC', [
                'ui.router'
            ]);


            /**
             * Permet d'éviter les liens avec des unsafe
             **/
            app.config(['$compileProvider', function($compileProvider) {
                $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|app):/);
            }]);


            /**
             * Création des routes
             **/
            var rooter = new Rooter(app);


            /**
             * Intégration des factories à Angular
             **/
            // Article
            app.factory('ArticleFactory', ['$http', '$q', ArticleFactory.factory]);
        </script>

    </body>

</html>